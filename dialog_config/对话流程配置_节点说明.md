# 对话流程配置

流程由节点组成。节点完成自身功能后跳转至下一节点

## 节点说明


```python
{
    "name": "example",	# 流程名。创建一个流程时用户需要填，和json文件名相同。
	"nodes": {
        # 子流程节点
        "0": {	# 节点编号，不用显示，同一流程内的节点编号不可重复，不同流程内的节点编号可重复
            "type": "flow",  # 节点类型。固定为flow，不可更改
    		"flowName": ""  # 子流程名。用户输入
        },
        # 分支节点
        "1": {
            "type": "branch"  # 固定为branch，不可更改
        },
        # 填槽节点
        "2": {
            "type": "slot_filling",  # 节点类型。固定为slot_filling，不可更改
            "slots": [	# 待填槽列表
				{
                    "name": "",	# 槽的名称，例如出发时间。用户输入
                    "global_variable": "",	# 与槽绑定的全局变量名。用户输入
                    "response": "",	# 机器人询问用户的话，例如“您想订几点的车票”。用户输入，选填
                }
            ]
        },
        # 函数节点
        "3": {
            "type": "function",  # 节点类型。固定为function，不可更改
        	"flowName": ""  # 函数名。用户输入
        }
        # 赋值节点
        "4": {
            "type": "assignment",	# 节点类型。固定为assignment，不可更改
            "assignments":[	# 赋值列表
                {
                    "g_var": "",	# 全局变量名。用户输入
                    "value": ""	# 全局变量值。用户输入
                }
            ]
        },
        # 回复节点
        "5": {
            "type": "response"	# 节点类型。固定为response，不可更改
            "response": ""	# 机器人回复内容。用户输入。
        },
        # 返回节点
        "6": {
            "type": "return"	# 节点类型。固定为return，不可更改
        },
        # 退出节点
        "7": {
            "type": "exit",	# 节点类型。固定为exit，不可更改
            "todo":	""	# 挂断电话后续处理。可选值为["hangup", "fwd"]
        }
    }
}
```

## 节点跳转说明

```python
{   
    "cond": None/dict/"else",	# 跳转条件。有三种可能，下面有详细解释。选填
    "nodeFrom": "",	# 出发节点id。必填
    "nodeTo": "",	# 目的节点id。必填
    "response": None/""	# 跳转的时候，机器人对用户的回复。选填。
}
```

#### cond字段的三种情况：

1. 当"cond" == None（用户没填）时，表示无条件跳转，相当于True

2. 当"cond" == "else"时，当前面的条件都不满足时，走这条路径。

3. 当“cond”是一个字典时，按照下面方式配置：
```python
{   
    "op": "",	# 操作符。必填。可选项："==", "!=", ">", "<", ">=", "<="
    "values": []	# 值。必填。元素个数视操作符而定。目前固定为2个值，因为目前的操作符都是二元的。
}
# 例子：跳转条件为全局变量a>2。
"cond" = {
	"op": ">",
    "values": ["global.a", "2"]
}
```